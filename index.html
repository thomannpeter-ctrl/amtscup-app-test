<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<title>Amtscup â€“ Cup-Duell</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
*{box-sizing:border-box}
body{
  font-family:system-ui,Arial,sans-serif;
  background:#eef2f7;
  margin:0;
  padding:1rem;
}
.container{
  max-width:1100px;
  margin:0 auto;
}
.card{
  background:#fff;
  border-radius:14px;
  padding:1rem 1.25rem;
  margin-bottom:1rem;
  box-shadow:0 4px 10px rgba(0,0,0,.08);
}
h1{color:#1e3a8a}
h3{margin-top:0}
select,input{
  width:100%;
  padding:.5rem;
  border-radius:8px;
  border:1px solid #cbd5f5;
  margin-bottom:.5rem;
}
button{
  width:100%;
  padding:1rem;
  border:none;
  border-radius:999px;
  background:#2563eb;
  color:white;
  font-size:1rem;
  cursor:pointer;
}
.winner{
  background:#dcfce7;
  padding:.6rem 1rem;
  border-radius:999px;
  font-weight:700;
  display:inline-block;
}
</style>
</head>

<body>
<div class="container">

<h1>Amtscup â€“ Cup-Duell</h1>

<div class="card">
  <h3>1. Gruppenchef</h3>
  <input id="chef" placeholder="Name Gruppenchef">
  <input id="email" placeholder="E-Mail">
</div>

<div class="card">
  <h3>2. Gruppenauswahl</h3>
  <select id="g1"></select>
  <select id="g2"></select>
  <select id="g3"></select>
</div>

<div class="card">
  <h3>Sieger</h3>
  <div id="winner" class="winner">Noch keine Resultate</div>
</div>

<div class="card">
  <button onclick="alert('Versand kommt im nÃ¤chsten Schritt ðŸ‘')">
    ðŸ“§ Resultat senden
  </button>
</div>

</div>

<script>
/* ========= ABSOLUT STABILE GRUPPENLISTE ========= */
const FALLBACK_GROUPS = [
 "1 Heim 1 A071 Worber SportschÃ¼tzen Querschleger",
 "1 Gast 1 A001 AareschÃ¼tzen Kiesen Oppligen Aare",
 "1 Gast 1 A037 Linden FS Innerbirrmoos",
 "2 Heim 1 A065 Trimstein Eichi FS Sius",
 "2 Gast 1 A028 Konolfingen SG Eiger",
 "3 Heim 1 A048 Oberthal MS Kapfwald",
 "3 Gast 1 A011 Bowil MS A-Team",
 "4 Heim 1 A056 SportschÃ¼tzen Furth Kobra"
];

/* ========= VERSUCH: GitHub laden ========= */
const GITHUB_URL =
"https://raw.githubusercontent.com/thomannpeter-ctrl/amtscup-app-test/main/gruppen.txt";

function fillSelects(groups){
  [g1,g2,g3].forEach((sel,i)=>{
    sel.innerHTML = "<option value=''>Bitte wÃ¤hlenâ€¦</option>";
    if(i===2){
      const o=document.createElement("option");
      o.value="";
      o.textContent="keine 3. Gruppe";
      sel.appendChild(o);
    }
    groups.forEach(g=>{
      const o=document.createElement("option");
      o.value=o.textContent=g;
      sel.appendChild(o);
    });
  });
}

/* ========= Laden mit Fallback ========= */
fetch(GITHUB_URL)
  .then(r=>r.ok ? r.text() : Promise.reject())
  .then(txt=>{
    const groups = txt.split(/\r?\n/).filter(l=>l.trim());
    fillSelects(groups);
    console.log("Gruppen aus GitHub geladen");
  })
  .catch(()=>{
    fillSelects(FALLBACK_GROUPS);
    console.warn("GitHub nicht erreichbar â†’ Fallback aktiv");
  });
</script>

</body>
</html>
